<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>File Upload</title>
    <script>
      function validateForm() {
        var fileInput = document.getElementById('file');
        var filePath = fileInput.value;
        var allowedExtensions = /(\.txt|\.png|\.jpg|\.jpeg|\.gif)$/i;
        if (!fileInput.value) {
            alert('Please select a file.');
            return false;
        }
        if (!allowedExtensions.exec(filePath)) {
            alert('Only .txt, .png, .jpg, .jpeg, .gif files are allowed.');
            fileInput.value = '';
            return false;
        }
        return true;
      }
    </script>
  </head>
  <body>
    <h1>Upload a File</h1>
    {% if message %}
      <p>{{ message }}</p>
    {% endif %}
    <form method="post" enctype="multipart/form-data" onsubmit="return validateForm();">
      <input type="file" name="file" id="file" required>
      <br><br>
      <input type="submit" value="Upload">
    </form>
  </body>
</html>
